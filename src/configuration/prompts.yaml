# =====================================
# DOCUMENT ANALYSIS PROMPTS
# =====================================
document_analysis:
  summary_map:
    input_variables: ["document_text"]
    template: |
      You are an expert technical editor.
      Summarize the following chunk **clearly, concisely, and in under 120 words**.
      Focus on key facts, decisions, metrics, and outcomes.
      Return JSON strictly:
      {
        "summary": "<your summary here>"
      }

      CHUNK:
      {document_text}

  summary_reduce:
    input_variables: ["chunk_summaries"]
    template: |
      You are an expert technical editor.
      Aggregate the following chunk summaries into a concise final summary **under 8 sentences**, keeping only:
      - Key facts
      - Decisions
      - Metrics or numbers
      - Outcomes
      Avoid repetition and minor details.
      Return JSON strictly:
      {
        "summary": "<final document summary>"
      }

      CHUNK SUMMARIES:
      {chunk_summaries}

  keywords:
    input_variables: ["document_text"]
    template: |
      Extract **8â€“15 most salient keywords or key phrases** from the document.
      Prioritize precision; avoid generic or repeated words.
      Return a JSON array of strings only.

      DOCUMENT:
      {document_text}

      JSON ARRAY:

# =====================================
# DOCUMENT COMPARISON PROMPTS
# =====================================
document_comparison:
  compare_docs:
    input_variables: ["doc1_chunk", "doc2_chunk"]
    template: |
      You are an expert reviewer.
      Compare the following two text chunks.
      Identify similarities, differences, and unique insights.
      Keep it concise and structured.

      DOCUMENT 1:
      {doc1_chunk}

      DOCUMENT 2:
      {doc2_chunk}

      STRUCTURED COMPARISON:

  chunk_reduce:
    input_variables: ["chunk_comparisons"]
    template: |
      Aggregate multiple chunk-level comparisons.
      Remove repetition, highlight consistent similarities, and summarize differences.
      Return JSON strictly:
      {{ "similarities": [], "differences": [], "unique_doc1": [], "unique_doc2": [] }}

      CHUNK COMPARISONS:
      {chunk_comparisons}

      REDUCED SUMMARY:


  holistic_compare:
    input_variables: ["doc1_text", "doc2_text"]
    template: |
      Compare these two full documents as a whole.
      Provide:
      - Overall similarities
      - Key differences
      - Critical unique points
      - Potential conflicts or contradictions
      Return JSON strictly:
      { "similarities": [], "differences": [], "unique_doc1": [], "unique_doc2": [] }

      DOCUMENT 1:
      {doc1_text}

      DOCUMENT 2:
      {doc2_text}
